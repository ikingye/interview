<!doctype html><html lang=en dir=ltr><head><meta name=generator content="Hugo 0.150.0"><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="
  HTTP
  
  #
  


  HTTP 基础
  
  #
  


  HTTP 状态码有哪些？
  
  #
  


2XX 成功

200 ok（请求成功）
204 no content （请求成功，但是没有结果返回）
206 partial content （客户端请求一部分资源，服务端成功响应，返回一范围资源）


3XX 重定向

301 move permanently （永久性重定向）
302 found （临时性重定向）
303 see other （示由于请求对应的资源存在着另一个 URI，应使用 GET 方法定向获取请求的资源）
304 not modified （表示在客户端采用带条件的访问某资源时，服务端找到了资源，但是这个请求的条件不符合。跟重定向无关）
307 temporary redirect （跟 302 一个意思）


4XX 客户端错误

400 bad request （请求报文存在语法错误）
401 unauthorized （需要认证（第一次返回）或者认证失败（第二次返回））
403 forbidden （请求被服务器拒绝了）
404 not found （服务器上无法找到请求的资源）


5XX 服务器错误

500 internal server error （服务端执行请求时发生了错误）
503 service unavailable （服务器正在超负载或者停机维护，无法处理请求）




  301 和 302 有什么区别？分别适用于什么场景？
  
  #
  


  101， 304， 307 分别是什么？
  
  #
  

101 协议升级"><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="https://kingye.me/interview/docs/network/http/"><meta property="og:site_name" content="面试笔记"><meta property="og:title" content="HTTP"><meta property="og:description" content="HTTP # HTTP 基础 # HTTP 状态码有哪些？ # 2XX 成功 200 ok（请求成功） 204 no content （请求成功，但是没有结果返回） 206 partial content （客户端请求一部分资源，服务端成功响应，返回一范围资源） 3XX 重定向 301 move permanently （永久性重定向） 302 found （临时性重定向） 303 see other （示由于请求对应的资源存在着另一个 URI，应使用 GET 方法定向获取请求的资源） 304 not modified （表示在客户端采用带条件的访问某资源时，服务端找到了资源，但是这个请求的条件不符合。跟重定向无关） 307 temporary redirect （跟 302 一个意思） 4XX 客户端错误 400 bad request （请求报文存在语法错误） 401 unauthorized （需要认证（第一次返回）或者认证失败（第二次返回）） 403 forbidden （请求被服务器拒绝了） 404 not found （服务器上无法找到请求的资源） 5XX 服务器错误 500 internal server error （服务端执行请求时发生了错误） 503 service unavailable （服务器正在超负载或者停机维护，无法处理请求） 301 和 302 有什么区别？分别适用于什么场景？ # 101， 304， 307 分别是什么？ # 101 协议升级"><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2020-07-20T19:58:16+08:00"><title>HTTP | 面试笔记</title><link rel=icon href=/interview/favicon.png><link rel=manifest href=/interview/manifest.json><link rel=canonical href=https://kingye.me/interview/docs/network/http/><link rel=stylesheet href=/interview/book.min.ce1c5c2253283c431b33f3a26460127223ab7b4d18f018f6ef1294e954b520da.css integrity="sha256-zhxcIlMoPEMbM/OiZGASciOre00Y8Bj27xKU6VS1INo=" crossorigin=anonymous><script defer src=/interview/fuse.min.js></script><script defer src=/interview/en.search.min.785f5318718423d8eb0bc03492869fc2f32fca5beccb5d779fef058883de1e89.js integrity="sha256-eF9TGHGEI9jrC8A0koafwvMvylvsy113n+8FiIPeHok=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/interview/><span>面试笔记</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href=https://kingye.me target=_blank rel="noopener noreferrer">博客</a></li><li><a href=https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417021727.png target=_blank rel="noopener noreferrer">公众号</a></li><li><a href=https://github.com/ikingye target=_blank rel="noopener noreferrer">Github</a></li><li><a href=https://weibo.com/kingyip15215 target=_blank rel="noopener noreferrer">微博</a></li><li><a href=https://www.zhihu.com/people/wutongyip target=_blank rel="noopener noreferrer">知乎</a></li></ul><hr><ul><li><input type=checkbox id=section-dac10f36a18b2565b30b8a413c3cac77 class=toggle>
<label for=section-dac10f36a18b2565b30b8a413c3cac77 class=flex><a href=/interview/docs/co/ class=flex-auto>1. 计算机组成原理</a></label><ul></ul></li><li><input type=checkbox id=section-fb17fa98eae091f7b482f2acb6708143 class=toggle>
<label for=section-fb17fa98eae091f7b482f2acb6708143 class=flex><a href=/interview/docs/os/ class=flex-auto>2. 操作系统</a></label><ul><li><input type=checkbox id=section-15a77ede6695b349d6b35f1d7c2274ff class=toggle>
<label for=section-15a77ede6695b349d6b35f1d7c2274ff class=flex><a href=/interview/docs/os/linux/ class=flex-auto>Linux</a></label></li></ul></li><li><input type=checkbox id=section-20a7ca78784beffdcceeb3f095091c0e class=toggle checked>
<label for=section-20a7ca78784beffdcceeb3f095091c0e class=flex><a href=/interview/docs/network/ class=flex-auto>3. 网络</a></label><ul><li><a href=/interview/docs/network/http/ class=active>HTTP</a></li><li><a href=/interview/docs/network/tcp/>TCP/UDP/IP</a></li><li><a href=/interview/docs/network/send/>发包工具</a></li><li><a href=/interview/docs/network/capture/>抓包</a></li></ul></li><li><input type=checkbox id=section-72924d58dbacb8de81e2f82dd97a305d class=toggle>
<label for=section-72924d58dbacb8de81e2f82dd97a305d class=flex><a href=/interview/docs/algs/ class=flex-auto>4. 数据结构与算法</a></label><ul><li><a href=/interview/docs/algs/tree/>二叉树</a></li><li><a href=/interview/docs/algs/dp/>动态规划</a></li><li><a href=/interview/docs/algs/sort/>排序算法</a></li><li><a href=/interview/docs/algs/search/>查询算法</a></li><li><a href=/interview/docs/algs/link/>链表</a></li></ul></li><li><input type=checkbox id=section-39d951d0ad0eced9b4aaf1b6cf4c4823 class=toggle>
<label for=section-39d951d0ad0eced9b4aaf1b6cf4c4823 class=flex><a href=/interview/docs/pl/ class=flex-auto>5. 编程语言</a></label><ul><li><input type=checkbox id=section-f78ad56101563ceb112ca8ee058c057b class=toggle>
<label for=section-f78ad56101563ceb112ca8ee058c057b class=flex><a href=/interview/docs/pl/c/ class=flex-auto>C</a></label></li><li><input type=checkbox id=section-319faf94d6dbbe1d0b5b5c5f3910b7b6 class=toggle>
<label for=section-319faf94d6dbbe1d0b5b5c5f3910b7b6 class=flex><a href=/interview/docs/pl/cpp/ class=flex-auto>C++</a></label></li><li><input type=checkbox id=section-522f1afe051f53b681a9dc4732939836 class=toggle>
<label for=section-522f1afe051f53b681a9dc4732939836 class=flex><a href=/interview/docs/pl/go/ class=flex-auto>Go</a></label></li><li><input type=checkbox id=section-bf4547a2ee3a6320c7f0993dbea87e98 class=toggle>
<label for=section-bf4547a2ee3a6320c7f0993dbea87e98 class=flex><a href=/interview/docs/pl/java/ class=flex-auto>Java</a></label></li><li><input type=checkbox id=section-44cf7e03ff34a0f1993f67470f8c2eae class=toggle>
<label for=section-44cf7e03ff34a0f1993f67470f8c2eae class=flex><a href=/interview/docs/pl/javascript/ class=flex-auto>JavaScript</a></label></li><li><input type=checkbox id=section-d5f9f62a3afa6eb21e96fb4c63e424f5 class=toggle>
<label for=section-d5f9f62a3afa6eb21e96fb4c63e424f5 class=flex><a href=/interview/docs/pl/kotlin/ class=flex-auto>Kotlin</a></label></li><li><input type=checkbox id=section-f2328c75ed3f1e79eb3721148691db56 class=toggle>
<label for=section-f2328c75ed3f1e79eb3721148691db56 class=flex><a href=/interview/docs/pl/php/ class=flex-auto>PHP</a></label></li><li><input type=checkbox id=section-33d3b9e688a788c670c7868ac2e5a351 class=toggle>
<label for=section-33d3b9e688a788c670c7868ac2e5a351 class=flex><a href=/interview/docs/pl/python/ class=flex-auto>Python</a></label></li><li><input type=checkbox id=section-2c49e304fc6a00749ef946ba6fe9cb2b class=toggle>
<label for=section-2c49e304fc6a00749ef946ba6fe9cb2b class=flex><a href=/interview/docs/pl/rust/ class=flex-auto>Rust</a></label></li></ul></li><li><input type=checkbox id=section-d06016cb25b23286638ddf3350722e26 class=toggle>
<label for=section-d06016cb25b23286638ddf3350722e26 class=flex><a href=/interview/docs/se/ class=flex-auto>6. 软件工程</a></label><ul><li><input type=checkbox id=section-9331ff558d061ec5ecc0fd75ed023b3d class=toggle>
<label for=section-9331ff558d061ec5ecc0fd75ed023b3d class=flex><a href=/interview/docs/se/dp/ class=flex-auto>设计模式</a></label></li><li><input type=checkbox id=section-34c527725bfc137cabd0b156bc2470db class=toggle>
<label for=section-34c527725bfc137cabd0b156bc2470db class=flex><a href=/interview/docs/se/architecture/ class=flex-auto>架构设计</a></label></li><li><input type=checkbox id=section-89a69356aba8ed5632f09cf610d14d83 class=toggle>
<label for=section-89a69356aba8ed5632f09cf610d14d83 class=flex><a href=/interview/docs/se/pm/ class=flex-auto>项目管理</a></label><ul></ul></li></ul></li><li><input type=checkbox id=section-1f7a0891fb78ba44611d7aaf1febf529 class=toggle>
<label for=section-1f7a0891fb78ba44611d7aaf1febf529 class=flex><a href=/interview/docs/cloud/ class=flex-auto>7. 云计算</a></label><ul><li><input type=checkbox id=section-ba9e9c3a7a403bd2c66dad9393b90a1d class=toggle>
<label for=section-ba9e9c3a7a403bd2c66dad9393b90a1d class=flex><a href=/interview/docs/cloud/docker/ class=flex-auto>Docker</a></label></li><li><input type=checkbox id=section-2d019f6b9260269d72858ce6a06737c7 class=toggle>
<label for=section-2d019f6b9260269d72858ce6a06737c7 class=flex><a href=/interview/docs/cloud/kubernetes/ class=flex-auto>Kubernetes</a></label></li><li><input type=checkbox id=section-cdee8e227c830bdacf353288dcfa8713 class=toggle>
<label for=section-cdee8e227c830bdacf353288dcfa8713 class=flex><a href=/interview/docs/cloud/native/ class=flex-auto>Cloud Native</a></label></li></ul></li><li><input type=checkbox id=section-b0dc122b75a8ee190a04c74ddd03587d class=toggle>
<label for=section-b0dc122b75a8ee190a04c74ddd03587d class=flex><a href=/interview/docs/bigdata/ class=flex-auto>8. 大数据</a></label><ul></ul></li><li><input type=checkbox id=section-90533c7a2355e16214e260ea8d55c63e class=toggle>
<label for=section-90533c7a2355e16214e260ea8d55c63e class=flex><a href=/interview/docs/ai/ class=flex-auto>9. 人工智能</a></label><ul><li><input type=checkbox id=section-31da2fa2ee2a41438432ac1eba96b3fc class=toggle>
<label for=section-31da2fa2ee2a41438432ac1eba96b3fc class=flex><a href=/interview/docs/ai/ml/ class=flex-auto>机器学习</a></label><ul></ul></li></ul></li><li><input type=checkbox id=section-cc006a1bb48228b384505e11bb3129e7 class=toggle>
<label for=section-cc006a1bb48228b384505e11bb3129e7 class=flex><a role=button class=flex-auto>10. 后台</a></label><ul><li><input type=checkbox id=section-ccd5ac4584b3fa2ea23f7d1dc555a0d5 class=toggle>
<label for=section-ccd5ac4584b3fa2ea23f7d1dc555a0d5 class=flex><a href=/interview/docs/backend/web/ class=flex-auto>Web 后端</a></label><ul><li><input type=checkbox id=section-6211b0c9d7bd9ad7800b0d9b5979d20d class=toggle>
<label for=section-6211b0c9d7bd9ad7800b0d9b5979d20d class=flex><a href=/interview/docs/backend/web/go/ class=flex-auto>Go Web 后端</a></label></li><li><input type=checkbox id=section-255465e6e90cf5ae6f3324c7269de337 class=toggle>
<label for=section-255465e6e90cf5ae6f3324c7269de337 class=flex><a href=/interview/docs/backend/web/java/ class=flex-auto>Java Web 后端</a></label></li><li><input type=checkbox id=section-47fc294bf9f2b0bce5a420f179960dcc class=toggle>
<label for=section-47fc294bf9f2b0bce5a420f179960dcc class=flex><a href=/interview/docs/backend/web/php/ class=flex-auto>PHP 后端</a></label></li><li><input type=checkbox id=section-3f6666df817e5c119875d8253ceeb2ee class=toggle>
<label for=section-3f6666df817e5c119875d8253ceeb2ee class=flex><a href=/interview/docs/backend/web/python/ class=flex-auto>Python 后端</a></label></li></ul></li><li><a href=/interview/docs/backend/db/>数据库</a><ul><li><input type=checkbox id=section-8fa84f1849dedcae8e410c308b4bc8be class=toggle>
<label for=section-8fa84f1849dedcae8e410c308b4bc8be class=flex><a href=/interview/docs/backend/db/mysql/ class=flex-auto>Mysql</a></label></li><li><input type=checkbox id=section-dbaa6f72dbf11be2ea3dce98a8468d7c class=toggle>
<label for=section-dbaa6f72dbf11be2ea3dce98a8468d7c class=flex><a href=/interview/docs/backend/db/redis/ class=flex-auto>Redis</a></label></li></ul></li><li><a href=/interview/docs/backend/mq/>消息队列</a><ul><li><input type=checkbox id=section-b934a848742f6080c0c26d23369dfb2c class=toggle>
<label for=section-b934a848742f6080c0c26d23369dfb2c class=flex><a href=/interview/docs/backend/mq/kafka/ class=flex-auto>Kafka</a></label></li><li><input type=checkbox id=section-247d070e4577eff571ff178160af1d88 class=toggle>
<label for=section-247d070e4577eff571ff178160af1d88 class=flex><a href=/interview/docs/backend/mq/rocketmq/ class=flex-auto>RocketMQ</a></label></li><li><input type=checkbox id=section-be6848561574827c9620cc15b62c886e class=toggle>
<label for=section-be6848561574827c9620cc15b62c886e class=flex><a href=/interview/docs/backend/mq/rabbitmq/ class=flex-auto>RabbitMQ</a></label></li></ul></li><li><input type=checkbox id=section-b158b58682199110a5ab11ea24f35889 class=toggle>
<label for=section-b158b58682199110a5ab11ea24f35889 class=flex><a href=/interview/docs/backend/others/ class=flex-auto>其他</a></label><ul><li><input type=checkbox id=section-bd1315ed0de1fc517edc2ae50972c39b class=toggle>
<label for=section-bd1315ed0de1fc517edc2ae50972c39b class=flex><a href=/interview/docs/backend/others/hot-load/ class=flex-auto>配置热加载</a></label></li><li><input type=checkbox id=section-e9c9beb1bd09bb9491ceabda054cf53c class=toggle>
<label for=section-e9c9beb1bd09bb9491ceabda054cf53c class=flex><a href=/interview/docs/backend/others/hot-restart/ class=flex-auto>程序热重启</a></label></li></ul></li></ul></li><li><input type=checkbox id=section-e43a83c4a95aebbedfe453d8ff1c4c3f class=toggle>
<label for=section-e43a83c4a95aebbedfe453d8ff1c4c3f class=flex><a href=/interview/docs/frontend/ class=flex-auto>11. 前端与客户端</a></label><ul><li><input type=checkbox id=section-5e63069f6bea9364caf6d277a66db738 class=toggle>
<label for=section-5e63069f6bea9364caf6d277a66db738 class=flex><a href=/interview/docs/frontend/web/ class=flex-auto>Web 前端</a></label><ul></ul></li></ul></li><li><input type=checkbox id=section-36172daab105faacbfda8fdec8025d30 class=toggle>
<label for=section-36172daab105faacbfda8fdec8025d30 class=flex><a href=/interview/docs/op/ class=flex-auto>13. 运维</a></label><ul></ul></li><li><input type=checkbox id=section-6b8fc8dbaf7a7e7c4b743b3e0a0229ee class=toggle>
<label for=section-6b8fc8dbaf7a7e7c4b743b3e0a0229ee class=flex><a href=/interview/docs/test/ class=flex-auto>14. 测试</a></label><ul></ul></li><li><input type=checkbox id=section-711078fd7861837cd24ff01085202907 class=toggle>
<label for=section-711078fd7861837cd24ff01085202907 class=flex><a href=/interview/docs/security/ class=flex-auto>13. 安全</a></label><ul><li><input type=checkbox id=section-b26706241ad173d7b10417a0b820c98d class=toggle>
<label for=section-b26706241ad173d7b10417a0b820c98d class=flex><a href=/interview/docs/security/web/ class=flex-auto>Web 安全</a></label><ul><li><a href=/interview/docs/security/web/xss/>XSS</a></li><li><a href=/interview/docs/security/web/csrf/>CSRF</a></li></ul></li></ul></li><li><input type=checkbox id=section-f0c6f0ad0f1efaf06edd2bc2c4729452 class=toggle>
<label for=section-f0c6f0ad0f1efaf06edd2bc2c4729452 class=flex><a href=/interview/docs/others/ class=flex-auto>15. 其他</a></label><ul><li><a href=/interview/docs/others/encode/>字符编码</a></li><li><a href=/interview/docs/others/encryption/>加密</a></li><li><a href=/interview/docs/others/compile/>编译</a></li></ul></li></ul><hr><ul><li><a href=https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417022040.png target=_blank rel="noopener noreferrer">微信</a></li><li><a href="https://qm.qq.com/cgi-bin/qm/qr?k=EUhzg0UwUksxpQnwEmPngRLezlC6qrnn&jump_from=webapi" target=_blank rel="noopener noreferrer"><img src=//pub.idqqimg.com/wpa/images/group.png></a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/interview/svg/menu.svg class=book-icon alt=Menu></label><h3>HTTP</h3><label for=toc-control><img src=/interview/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#http-基础>HTTP 基础</a><ul><li><a href=#http-状态码有哪些>HTTP 状态码有哪些？</a></li><li><a href=#301-和-302-有什么区别分别适用于什么场景>301 和 302 有什么区别？分别适用于什么场景？</a></li><li><a href=#101-304-307-分别是什么>101， 304， 307 分别是什么？</a></li><li><a href=#http-chunk-是什么解决了什么问题>HTTP chunk 是什么？解决了什么问题？</a></li><li><a href=#http11-有哪些问题>HTTP/1.1 有哪些问题？</a></li></ul></li><li><a href=#http2>HTTP2</a><ul><li><a href=#http2-有哪些特点>HTTP2 有哪些特点？</a></li><li><a href=#http2-多路复用是如何实现的>HTTP2 多路复用是如何实现的？</a></li></ul></li><li><a href=#https>HTTPS</a><ul><li><a href=#https-握手过程>HTTPS 握手过程</a></li></ul></li></ul></nav><hr><ul><li><a href=https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417022040.png target=_blank rel="noopener noreferrer">微信</a></li><li><a href="https://qm.qq.com/cgi-bin/qm/qr?k=EUhzg0UwUksxpQnwEmPngRLezlC6qrnn&jump_from=webapi" target=_blank rel="noopener noreferrer"><img src=//pub.idqqimg.com/wpa/images/group.png></a></li></ul></aside></header><article id=article class=markdown><h1 id=http>HTTP
<a class=anchor href=#http>#</a></h1><h2 id=http-基础>HTTP 基础
<a class=anchor href=#http-%e5%9f%ba%e7%a1%80>#</a></h2><h3 id=http-状态码有哪些>HTTP 状态码有哪些？
<a class=anchor href=#http-%e7%8a%b6%e6%80%81%e7%a0%81%e6%9c%89%e5%93%aa%e4%ba%9b>#</a></h3><ul><li>2XX 成功<ul><li>200 ok（请求成功）</li><li>204 no content （请求成功，但是没有结果返回）</li><li>206 partial content （客户端请求一部分资源，服务端成功响应，返回一范围资源）</li></ul></li><li>3XX 重定向<ul><li>301 move permanently （永久性重定向）</li><li>302 found （临时性重定向）</li><li>303 see other （示由于请求对应的资源存在着另一个 URI，应使用 GET 方法定向获取请求的资源）</li><li>304 not modified （表示在客户端采用带条件的访问某资源时，服务端找到了资源，但是这个请求的条件不符合。跟重定向无关）</li><li>307 temporary redirect （跟 302 一个意思）</li></ul></li><li>4XX 客户端错误<ul><li>400 bad request （请求报文存在语法错误）</li><li>401 unauthorized （需要认证（第一次返回）或者认证失败（第二次返回））</li><li>403 forbidden （请求被服务器拒绝了）</li><li>404 not found （服务器上无法找到请求的资源）</li></ul></li><li>5XX 服务器错误<ul><li>500 internal server error （服务端执行请求时发生了错误）</li><li>503 service unavailable （服务器正在超负载或者停机维护，无法处理请求）</li></ul></li></ul><h3 id=301-和-302-有什么区别分别适用于什么场景>301 和 302 有什么区别？分别适用于什么场景？
<a class=anchor href=#301-%e5%92%8c-302-%e6%9c%89%e4%bb%80%e4%b9%88%e5%8c%ba%e5%88%ab%e5%88%86%e5%88%ab%e9%80%82%e7%94%a8%e4%ba%8e%e4%bb%80%e4%b9%88%e5%9c%ba%e6%99%af>#</a></h3><h3 id=101-304-307-分别是什么>101， 304， 307 分别是什么？
<a class=anchor href=#101-304-307-%e5%88%86%e5%88%ab%e6%98%af%e4%bb%80%e4%b9%88>#</a></h3><p><strong>101 协议升级</strong></p><p>主要用于 websocket，也可以用于 http2 的升级。</p><p><strong>304 协商缓存</strong></p><p>浏览器缓存分为强制缓存和协商缓存，优先读取强制缓存。</p><p>强制缓存分为 expires 和 cache-control，而 expires 是一个特定的时间，是比较旧的标准和 cache-control 通常是一个具体的时间长度，比较新，优先级也比较高。</p><p><strong>307 hsts 跳转</strong></p><p>原本的用法是用于让 post 请求的跳转去新的 post 请求，但也用于 hsts 跳转。</p><p>hsts 全称 HTTP 严格传输安全（HTTP Strict Transport Security，縮寫：HSTS），功能是要求浏览器下次访问该站点时使用 https 来访问，而不再需要先是 http 再转 https。这样可以避免 ssl 剥离攻击，即攻击者在用户使用 http 访问的过程中进行攻击，对服务器冒充自己是用户，在攻击者和服务器中使用 https 访问，在用户和服务器中使用 http 访问。</p><p>具体使用方法是在服务器响应头中添加 Strict-Transport-Security，可以设置 max-age</p><p>参考：</p><ul><li><a href=http://hpoenixf.com/%E9%9D%A2%E8%AF%95%E5%BF%85%E8%80%83%E4%B9%8Bhttp%E7%8A%B6%E6%80%81%E7%A0%81%E6%9C%89%E5%93%AA%E4%BA%9B.html>面试必考之 http 状态码有哪些</a></li></ul><hr><h3 id=http-chunk-是什么解决了什么问题>HTTP chunk 是什么？解决了什么问题？
<a class=anchor href=#http-chunk-%e6%98%af%e4%bb%80%e4%b9%88%e8%a7%a3%e5%86%b3%e4%ba%86%e4%bb%80%e4%b9%88%e9%97%ae%e9%a2%98>#</a></h3><p>允许 HTTP 由应用服务器发送给客户端应用的数据可以分成多个部分</p><p><code>Transfer-Encoding: chunked</code></p><p>历史上 Transfer-Encoding 支持 多种编码，但是目前最新的规范里，只支持 chunked 编码，即分块编码一种。</p><p>分块传输编码只在 HTTP/1.1 中提供</p><p>chunked 还是给浏览器传输了<strong>长度</strong>，但是偷偷藏在了报文当中，所以并没有显式地像 content-length 在头部声明</p><p>由一个标明长度为 0 的 chunk 结束</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#75715e># body 非空，而且没有 Content-Length</span>
</span></span><span style=display:flex><span>chunked <span style=color:#f92672>=</span> <span style=color:#f92672>not</span> (request<span style=color:#f92672>.</span>body <span style=color:#f92672>is</span> <span style=color:#66d9ef>None</span> <span style=color:#f92672>or</span> <span style=color:#e6db74>&#39;Content-Length&#39;</span> <span style=color:#f92672>in</span> request<span style=color:#f92672>.</span>headers)
</span></span></code></pre></div><p>Facebook 为了减少页面的响应时间，发明了一种他们称之为 “BigPipe” 的技术，这个技术的核心原理就是 Http 的 Chunk 编码。
据 Facebook 的测试表明 “BigPipe” 技术使其页面响应时间减少了约 50% （FireFox3.6 除外，用 FireFox3.6 的响应时间减少约 22%）</p><p><img src=https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200720191554.png alt></p><p>参考：</p><ul><li><a href=https://zhuanlan.zhihu.com/p/65816404>为什么在 HTTP 的 chunked 模式下不需要设置长度</a></li><li><a href=https://www.zhihu.com/question/26495136>HTTP 协议中 chunk 的应用场景？</a></li><li><a href=https://kubernetes.io/docs/reference/using-api/api-concepts/#efficient-detection-of-changes>kubernetes 用 chunked 来实现 watch 机制，实现发布订阅消息的效果</a></li></ul><hr><h3 id=http11-有哪些问题>HTTP/1.1 有哪些问题？
<a class=anchor href=#http11-%e6%9c%89%e5%93%aa%e4%ba%9b%e9%97%ae%e9%a2%98>#</a></h3><ol><li>TCP 连接数限制</li></ol><ul><li>问题：对于同一个域名，浏览器最多只能同时创建 6~8 个 TCP 连接 (不同浏览器不一样)</li><li>解决：域名分片 技术，其实就是资源分域，将资源放在不同域名下 (比如二级子域名下)<ul><li>还有问题：每个 TCP 连接本身需要经过 DNS 查询、三步握手、慢启动等，还占用额外的 CPU 和内存</li></ul></li></ul><ol start=2><li><a href=https://www.wikiwand.com/zh-cn/%E9%98%9F%E5%A4%B4%E9%98%BB%E5%A1%9E>队头阻塞（ Head-of-line blocking 或缩写为 HOL blocking ）</a></li></ol><ul><li>问题：每个 TCP 连接同时只能处理一个请求 - 响应，浏览器按 FIFO 原则处理请求，如果上一个响应没返回，后续请求 - 响应都会受阻。</li><li>解决： <a href=https://www.wikiwand.com/zh-cn/HTTP%E7%AE%A1%E7%B7%9A%E5%8C%96>HTTP 管线化</a><ul><li>还有问题：比如第一个响应慢还是会阻塞后续响应、服务器为了按序返回相应需要缓存多个响应占用更多资源、浏览器中途断连重试服务器可能得重新处理多个请求、还有必须客户端 - 代理 - 服务器都支持管线化</li></ul></li></ul><ol start=3><li>Header 内容多，而且每次请求 Header 不会变化太多，没有相应的压缩传输优化方案</li><li>为了尽可能减少请求数，需要做合并文件、雪碧图、资源内联等优化工作，但是这无疑造成了单个请求内容变大延迟变高的问题，且内嵌的资源不能有效地使用缓存机制</li><li>明文传输不安全</li></ol><p>参考：</p><ul><li><a href=https://blog.wangriyu.wang/2018/05-HTTP2.html>HTTP2 详解</a></li></ul><hr><hr><h2 id=http2>HTTP2
<a class=anchor href=#http2>#</a></h2><h3 id=http2-有哪些特点>HTTP2 有哪些特点？
<a class=anchor href=#http2-%e6%9c%89%e5%93%aa%e4%ba%9b%e7%89%b9%e7%82%b9>#</a></h3><ol><li>二进制分帧层 (Binary Framing Layer)<ul><li>帧是数据传输的最小单位，以二进制传输代替原本的明文传输，原本的报文消息被划分为更小的数据帧</li></ul></li><li>多路复用 (MultiPlexing)</li><li>服务端推送 (Server Push)</li><li>Header 压缩 (HPACK)</li><li>应用层的重置连接</li><li>请求优先级设置</li><li>流量控制</li><li>HTTP/1 的几种优化可以弃用<ul><li>合并文件、内联资源、雪碧图、域名分片对于 HTTP/2 来说是不必要的，使用 h2 尽可能将资源细粒化，文件分解地尽可能散，不用担心请求数多</li></ul></li></ol><p>参考：</p><ul><li><a href=https://blog.wangriyu.wang/2018/05-HTTP2.html>HTTP2 详解</a></li></ul><h3 id=http2-多路复用是如何实现的>HTTP2 多路复用是如何实现的？
<a class=anchor href=#http2-%e5%a4%9a%e8%b7%af%e5%a4%8d%e7%94%a8%e6%98%af%e5%a6%82%e4%bd%95%e5%ae%9e%e7%8e%b0%e7%9a%84>#</a></h3><hr><hr><h2 id=https>HTTPS
<a class=anchor href=#https>#</a></h2><h3 id=https-握手过程>HTTPS 握手过程
<a class=anchor href=#https-%e6%8f%a1%e6%89%8b%e8%bf%87%e7%a8%8b>#</a></h3><ul><li>TCP 握手 + SSL 握手</li></ul><p>参考：</p><ul><li><a href=http://www.ruanyifeng.com/blog/2014/09/ssl-latency.html>SSL 延迟有多大？</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><div class="flex flex-wrap justify-between"><span><a href=/interview/docs/network/ class="flex align-center"><img src=/interview/svg/backward.svg class=book-icon alt=Previous title="3. 网络">
<span>3. 网络</span>
</a></span><span><a href=/interview/docs/network/tcp/ class="flex align-center"><span>TCP/UDP/IP</span>
<img src=/interview/svg/forward.svg class=book-icon alt=Next title=TCP/UDP/IP></a></span></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><div><br><script async src=//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js></script><link rel=stylesheet href=//cdn.bootcss.com/font-awesome/4.3.0/css/font-awesome.min.css><p><span id=busuanzi_container_page_pv>本文访问量 <span id=busuanzi_value_page_pv><i class="fa fa-spinner fa-spin"></i></span> 次</span></p><p><span id=busuanzi_container_site_pv>本站总访问量 <span id=busuanzi_value_site_pv><i class="fa fa-spinner fa-spin"></i></span> 次</span></p><p><span id=busuanzi_container_site_uv>本站总访客数 <span id=busuanzi_value_site_uv><i class="fa fa-spinner fa-spin"></i></span> 人</span></p></div></footer><div class=book-comments><script src=https://utteranc.es/client.js repo=ikingye/interview issue-term=pathname theme=github-light crossorigin=anonymous async></script><div id=footer><p><a href=https://kingye.me>叶王</a> &copy; 2013-2024
版权所有。如果本文档对你有所帮助，可以<a href=https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200428110046.png target=_blank rel="noopener noreferrer">请作者喝饮料</a>。</p></div></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#http-基础>HTTP 基础</a><ul><li><a href=#http-状态码有哪些>HTTP 状态码有哪些？</a></li><li><a href=#301-和-302-有什么区别分别适用于什么场景>301 和 302 有什么区别？分别适用于什么场景？</a></li><li><a href=#101-304-307-分别是什么>101， 304， 307 分别是什么？</a></li><li><a href=#http-chunk-是什么解决了什么问题>HTTP chunk 是什么？解决了什么问题？</a></li><li><a href=#http11-有哪些问题>HTTP/1.1 有哪些问题？</a></li></ul></li><li><a href=#http2>HTTP2</a><ul><li><a href=#http2-有哪些特点>HTTP2 有哪些特点？</a></li><li><a href=#http2-多路复用是如何实现的>HTTP2 多路复用是如何实现的？</a></li></ul></li><li><a href=#https>HTTPS</a><ul><li><a href=#https-握手过程>HTTPS 握手过程</a></li></ul></li></ul></nav><hr><ul><li><a href=https://cdn.jsdelivr.net/gh/ikingye/imagehost/picgo/20200417022040.png target=_blank rel="noopener noreferrer">微信</a></li><li><a href="https://qm.qq.com/cgi-bin/qm/qr?k=EUhzg0UwUksxpQnwEmPngRLezlC6qrnn&jump_from=webapi" target=_blank rel="noopener noreferrer"><img src=//pub.idqqimg.com/wpa/images/group.png></a></li></ul></div></aside></main></body></html>